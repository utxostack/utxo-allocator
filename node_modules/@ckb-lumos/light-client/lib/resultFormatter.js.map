{"version":3,"file":"resultFormatter.js","names":["_type","require","_rpc","toFetchHeaderResult","result","status","FetchFlag","Fetched","data","ResultFormatter","toHeader","exports","toFetchTransactionResult","toTransactionWithStatus","toLightClientScript","lightClientScript","script","toScript","blockNumber","block_number","scriptType","script_type"],"sources":["../src/resultFormatter.ts"],"sourcesContent":["/* eslint-disable camelcase, @typescript-eslint/no-explicit-any */\nimport {\n  LightClientRPC,\n  FetchHeaderResult,\n  FetchTransactionResult,\n  LightClientScript,\n  FetchFlag,\n} from \"./type\";\nimport { ResultFormatter } from \"@ckb-lumos/rpc\";\n\nexport const toFetchHeaderResult = (\n  result: LightClientRPC.FetchHeaderResult\n): FetchHeaderResult => {\n  if (!result) return result;\n\n  if (result.status === FetchFlag.Fetched) {\n    return {\n      status: result.status,\n      data: ResultFormatter.toHeader(result.data),\n    };\n  }\n\n  return result;\n};\n\nexport const toFetchTransactionResult = (\n  result: LightClientRPC.FetchTransactionResult\n): FetchTransactionResult => {\n  if (!result) return result;\n\n  if (result.status === FetchFlag.Fetched) {\n    return {\n      status: result.status,\n      data: ResultFormatter.toTransactionWithStatus(result.data),\n    };\n  }\n\n  return result;\n};\n\nexport const toLightClientScript = (\n  lightClientScript: LightClientRPC.LightClientScript\n): LightClientScript => {\n  if (!lightClientScript) return lightClientScript;\n\n  return {\n    script: ResultFormatter.toScript(lightClientScript.script),\n    blockNumber: lightClientScript.block_number,\n    scriptType: lightClientScript.script_type,\n  };\n};\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,OAAA;AAOA,IAAAC,IAAA,GAAAD,OAAA;AARA;;AAUO,MAAME,mBAAmB,GAC9BC,MAAwC,IAClB;EACtB,IAAI,CAACA,MAAM,EAAE,OAAOA,MAAM;EAE1B,IAAIA,MAAM,CAACC,MAAM,KAAKC,eAAS,CAACC,OAAO,EAAE;IACvC,OAAO;MACLF,MAAM,EAAED,MAAM,CAACC,MAAM;MACrBG,IAAI,EAAEC,oBAAe,CAACC,QAAQ,CAACN,MAAM,CAACI,IAAI;IAC5C,CAAC;EACH;EAEA,OAAOJ,MAAM;AACf,CAAC;AAACO,OAAA,CAAAR,mBAAA,GAAAA,mBAAA;AAEK,MAAMS,wBAAwB,GACnCR,MAA6C,IAClB;EAC3B,IAAI,CAACA,MAAM,EAAE,OAAOA,MAAM;EAE1B,IAAIA,MAAM,CAACC,MAAM,KAAKC,eAAS,CAACC,OAAO,EAAE;IACvC,OAAO;MACLF,MAAM,EAAED,MAAM,CAACC,MAAM;MACrBG,IAAI,EAAEC,oBAAe,CAACI,uBAAuB,CAACT,MAAM,CAACI,IAAI;IAC3D,CAAC;EACH;EAEA,OAAOJ,MAAM;AACf,CAAC;AAACO,OAAA,CAAAC,wBAAA,GAAAA,wBAAA;AAEK,MAAME,mBAAmB,GAC9BC,iBAAmD,IAC7B;EACtB,IAAI,CAACA,iBAAiB,EAAE,OAAOA,iBAAiB;EAEhD,OAAO;IACLC,MAAM,EAAEP,oBAAe,CAACQ,QAAQ,CAACF,iBAAiB,CAACC,MAAM,CAAC;IAC1DE,WAAW,EAAEH,iBAAiB,CAACI,YAAY;IAC3CC,UAAU,EAAEL,iBAAiB,CAACM;EAChC,CAAC;AACH,CAAC;AAACV,OAAA,CAAAG,mBAAA,GAAAA,mBAAA"}